{% extends 'MainBundle::layout.html.twig' %}

{% import 'MainBundle:Macros:breadcrumb.html.twig' as breadcrumb %}

{% set section = 'examples' %}

{% block breadcrumb %}
{{ breadcrumb.show_example_detail('Doctrine2: Subconsultas', 'examples_query_subqueries', subtitle) }}
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <h2>{{ subtitle }}</h2>
            <table class="table">
                <tr>
                    <th>Usuario</th>
                    <th>Direcciones</th>
                </tr>
                {% for user in users %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td>
                            <ul>
                                {% for address in user.addresses %}
                                    <li>{{ address.street }} ({{ address.city.province.country.name }})</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}

{% set code = code(_self) %}
{% set article_link = 'http://showmethecode.es/php/doctrine2/doctrine2-subconsultas/' %}
