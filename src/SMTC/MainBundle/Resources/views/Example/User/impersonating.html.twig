{% extends 'MainBundle::layout.html.twig' %}

{% import 'MainBundle:Macros:breadcrumb.html.twig' as breadcrumb %}

{% set section = 'examples' %}

{% block breadcrumb %}
{{ breadcrumb.show_example('Impersonating') }}
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <p>El usuario actual es <span class="label label-info">{{ app.user.username }}</span></p>
            <ul class="list-group">
            {% if is_granted('ROLE_PREVIOUS_ADMIN') %}
                <li class="list-group-item"><a href="{{ path('examples_impersonating', {'_change_to': '_exit'}) }}">Salir impersonating</a></li>
            {% else %}
                <li class="list-group-item"><a href="{{ path('examples_impersonating', {'_change_to': 'user'}) }}">Cambiar a User</a></li>
                <li class="list-group-item"><a href="{{ path('examples_impersonating', {'_change_to': 'admin'}) }}">Cambiar a Admin</a></li>
            {% endif %}
            </ul>
        </div>
    </div>
{% endblock %}

{% set code = code(_self) %}
{% set article_link = 'http://showmethecode.es/php/symfony/impersonating-hacerse-pasar-por-otro-usuario-en-symfony2/' %}
